<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/style_mqttClient.css" />

    <title>Secure MQTT Client</title>
  </head>
  <body>
    <div id="passwordOverlay">
        <div id="passwordPrompt">
          <h2>Password Required</h2>
          <input type="password" id="passwordInput" placeholder="Enter Password" />
          <button id="passwordSubmit">Submit</button>
          <p id="passwordError"></p>
        </div>
      </div>
    <div id="Wrapper-Startpage">
      <div id="Wrapper-Header">
        <div id="Header-Logo1">
            <svg width="300px" height="400px" viewBox="0 0 474 82">
              <g clip-path="url(#clip0_3_270)">
                <path
                  d="M362.623 28.6535L363 28.66C368.45 28.819 371.979 31.504 371.317 36.59H367.172C367.56 33.867 365.03 32.054 362.109 32.054C355.081 32.054 352.393 38.485 351.312 43.494C350.045 49.371 350.627 54.934 356.821 54.934C359.862 54.934 362.95 53.434 364.077 50.397H368.222C366.8 55.17 361.303 58.327 355.736 58.327C347.33 58.327 345.451 51.463 347.171 43.494C348.674 36.513 353.505 28.385 363 28.66L362.623 28.6535ZM384.775 29.252L380.866 47.398C379.929 52.291 382.28 54.933 386.782 54.933C391.28 54.933 394.774 52.291 395.944 47.398L399.857 29.252H403.805L400.097 46.452C398.633 53.79 393.786 58.326 386.05 58.326C378.313 58.326 375.419 53.789 377.12 46.452L380.827 29.252H384.775ZM415.969 29.252L412.056 47.398C411.122 52.291 413.473 54.933 417.975 54.933C422.473 54.933 425.963 52.291 427.137 47.398L431.05 29.252H434.998L431.291 46.452C429.827 53.79 424.98 58.326 417.244 58.326C409.507 58.326 406.613 53.789 408.314 46.452L412.021 29.252H415.969ZM297.433 29.252L300.671 53.593H300.753L314.525 29.252H318.472L301.834 57.734H297.491L293.481 29.252H297.433ZM335.057 29.252L340.446 57.734H336.142L334.662 50.319H321.44L316.76 57.734H312.692L330.834 29.252H335.057ZM451.021 29.252L454.174 52.725H454.251L467.365 29.252H473.958L467.818 57.734H463.871L469.399 32.092H469.317L454.67 57.734H450.962L447.367 32.092H447.29L441.762 57.734H437.814L443.954 29.252H451.021ZM331.927 33.157L323.512 46.925H334.131L331.927 33.157Z"
                  fill="black"
                />
                <path
                  d="M284.308 40.677L224.203 43.525C224.252 41.627 224.254 39.7281 224.207 37.83L284.308 40.677ZM274.367 47.053L223.854 49.846C224.009 48.021 224.121 46.162 224.183 44.279L274.367 47.053ZM265.844 53.201L223.149 55.959C223.413 54.173 223.629 52.345 223.796 50.485L265.844 53.201ZM254.009 59.679L221.983 62.375C222.366 60.616 222.698 58.8462 222.979 57.068L254.009 59.679ZM242.635 66.044L220.344 68.69C220.844 67.036 221.301 65.323 221.715 63.561L242.635 66.044ZM233.187 72.23L218.125 74.946C218.811 73.2721 219.431 71.5714 219.981 69.848L233.187 72.23ZM222.413 78.119L214.975 81.393C215.976 79.6599 216.875 77.8699 217.667 76.032L222.413 78.119ZM274.367 34.304L224.187 37.078C224.125 35.195 224.017 33.336 223.865 31.511L274.367 34.304ZM265.844 28.152L223.807 30.868C223.64 29.008 223.423 27.184 223.164 25.398L265.844 28.152ZM254.009 21.675L222.998 24.286C222.72 22.5091 222.391 20.7407 222.01 18.983L254.009 21.675ZM242.635 15.31L221.739 17.789C221.341 16.0677 220.888 14.3598 220.379 12.668L242.635 15.31ZM233.187 9.12301L220.015 11.498C219.467 9.7806 218.854 8.085 218.175 6.41501L233.187 9.12301ZM222.413 3.23501L217.706 5.30801C216.927 3.49026 216.045 1.71839 215.064 0.00100708L222.413 3.23501Z"
                  fill="white"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M91.312 28.316V57.537H85.034V28.316H91.312ZM46.867 28.315V33.173H34.273V40.216H46.019V45.07H34.273V57.536H27.997V28.315H46.867ZM74.884 28.315V33.173H61.558V40.015H74.036V44.869H61.558V52.678H75.33V57.536H55.282V28.315H74.884ZM120.376 28.315V33.173H107.782V40.216H119.528V45.07H107.782V57.536H101.502V28.315H120.376ZM147.525 28.315V33.173H134.931V40.216H146.677V45.07H134.931V57.536H128.655V28.315H147.525ZM175.15 28.315V33.173H161.828V40.015H174.298V44.869H161.828V52.678H175.596V57.536H155.548V28.315H175.15ZM197.07 28.314C202.094 28.357 207.235 29.976 207.235 35.923C207.235 39.727 204.768 42.237 201.161 43.008V43.086C205.98 43.613 205.98 46.569 206.507 50.617C206.79 52.476 207.034 55.917 208.208 57.536H201.281C200.754 54.948 200.471 52.318 200.188 49.683C200.026 48.064 199.623 45.841 197.558 45.759H190.915V57.536H184.635V28.314H197.07ZM9.031 28.314C15.512 28.357 20.978 29.895 20.978 37.302C20.978 42.602 17.375 46.085 10.851 46.286H6.276V57.535H0V28.314H9.031ZM14.295 37.303C14.295 33.2612 11.5377 33.1105 8.6719 33.163L7.73696 33.1826C7.2399 33.1918 6.74827 33.1951 6.276 33.173V41.429C6.74827 41.4069 7.2399 41.4101 7.73696 41.4194L8.48488 41.4353C11.4165 41.4961 14.295 41.4286 14.295 37.303ZM196.179 33.173H190.914V40.902H196.179C198.934 40.863 200.553 39.488 200.553 36.896C200.553 34.304 198.933 33.212 196.179 33.173Z"
                  fill="white"
                />
              </g>
              <defs>
                <clipPath id="clip0_3_270">
                  <rect width="474" height="82" fill="white" />
                </clipPath>
              </defs>
              </svg>
          </div>
         
          <div id="Header-Name">Secure MQTT Client</div>
          <div id="Header-Logo2">
            <?xml version="1.0" encoding="UTF-8"?>
              <svg xmlns="http://www.w3.org/2000/svg" data-name="Ebene 1" viewBox="0 0 314 185" width="250px"><path fill="none" d="M0 0h314v185H0z"/><path fill="#ff5800" d="M47.5 117.27V81.36h28.49c11.88 0 14 10.77 8.68 16.07v.13c8.16 4.09 8 19.71-7.19 19.71zm12.78-8h13c2.76 0 4-1.81 4-3.48s-1.38-3.48-4-3.48h-13zm0-14h11.83c2.87 0 3.88-1.64 3.88-3 0-1.61-1.21-3.34-3.88-3.34H60.28z"/><path fill="#ff5800" d="M111.25 111.03c-13 0-19.94-5-19.94-14.43V75.47h12.87v20c0 4.47 2.44 6.83 7.07 6.83s7.07-2.36 7.07-6.83v-20h12.87V96.6c0 9.44-6.9 14.43-19.94 14.43zM252.63 117.28v-14.75h-15.41v14.75h-12.88V81.37h12.88v13.32h15.41V81.37h12.87v35.91h-12.87zM111.25 74.12c-13 0-19.94-5-19.94-14.43V38.56h12.87v20c0 4.47 2.44 6.83 7.07 6.83s7.07-2.36 7.07-6.83v-20h12.87v21.13c0 9.44-6.9 14.43-19.94 14.43zM111.25 147.56c-13 0-19.94-5-19.94-14.43v-21.16h12.87v20c0 4.47 2.44 6.83 7.07 6.83s7.07-2.36 7.07-6.83v-20h12.87v21.13c0 9.47-6.9 14.46-19.94 14.46zM207.61 103.97c-1.18 3.74-3.88 5.54-8 5.54-5.52 0-8.82-3.63-8.82-10.14s3.44-10.15 9.48-10.15a7.17 7.17 0 0 1 7.32 5.36l14.43-.45c-.95-5.34-4.23-13.9-21.75-13.9-15.15 0-22.82 6.44-22.82 19.14 0 7.69 2.62 19.13 22.82 19.13 15.81 0 20-7.37 21.76-14.09zM165.6 95.78l-15.93-1.87c-1.35-.19-3.23-1.26-2.73-3.32.6-2.47 4.12-2.85 6.17-2.85 3.61 0 5.79 1.88 6.43 3.47l15.11-.52c-1.22-7.49-7.6-10.72-21.15-10.72a29.82 29.82 0 0 0-13.51 2.86c-4.16 2.18-6.35 5.42-6.35 9.38 0 5.16 3.12 8.37 9 9.28l15.24 1.73c2 .19 4.43 1.52 3.76 4-.57 2.12-2.77 3.07-6.46 3.07s-5.78-1.95-6.28-3.28l-15.65.54c.63 3.61 3.76 11.07 21 11.07 6.73 0 12.33-1.23 16.18-3.55s5.86-5.67 5.86-9.71c-.02-5.46-3.61-8.69-10.69-9.58z"/></svg>
          </div>
      </div>
      
      <!-- Beschreibung des MQTT Brokers -->
      <div id="Wrapper-MQTT-Info">
        <h2>MQTT Broker Information</h2>
        <p>
          <strong>Server:</strong> 2fd7575a561e481caf9165d52f2e7ddd.s1.eu.hivemq.cloud<br>
          <strong>Port:</strong> 8883<br>
          <strong>Topic:</strong> first/hinode/topic<br>
          <strong>Username:</strong> HiNode_MQTT_BROKER<br>
          <strong>Password:</strong> hinode2024_PV&Busch!<br>
        </p>
      </div>

      <!-- Bereich zum Anzeigen der empfangenen Nachrichten -->
      <div id="Wrapper-MQTT-Messages">
        <h2>MQTT Messages</h2>
        <div id="messages" class="mqtt-messages">
          <!-- Hier werden die empfangenen Nachrichten angezeigt -->
        </div>
      </div>
    </div>
  </body>
  
  <!-- Verlinkung zur JavaScript-Datei als Modul -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/paho-mqtt/1.0.1/mqttws31.min.js"></script>
  <script src="./script_mqttClient.js"></script>
  <script>
    // Passwortschutz Logik
    const correctPassword = "hinode_Client!"; // Das gew√ºnschte Passwort hier festlegen
    document.getElementById("passwordSubmit").addEventListener("click", function () {
      const enteredPassword = document.getElementById("passwordInput").value;
      if (enteredPassword === correctPassword) {
        document.getElementById("passwordOverlay").style.display = "none";
        document.getElementById("Wrapper-Startpage").style.display = "block";
      } else {
        document.getElementById("passwordError").textContent = "Incorrect password. Please try again.";
      }
    });

    // Funktion zum Kopieren in die Zwischenablage
    function copyToClipboard(elementId) {
      const textToCopy = document.getElementById(elementId).innerText;
      navigator.clipboard.writeText(textToCopy).then(function () {
        alert("Copied to clipboard: " + textToCopy);
      }, function (err) {
        alert("Failed to copy: ", err);
      });
    }
  </script>
</html>
